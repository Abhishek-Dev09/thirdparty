version: 1.0.{build}

environment:
  matrix:
    - PYTHON: "C:\\Python27"
    - PYTHON: "C:\\Python27-x64"

install:
  - cmd: "%PYTHON%\\python.exe -m pip install --upgrade pip wheel"

build: off

test_script:
  - mkdir wheels
  - cmd: "%PYTHON%\\python.exe -m pip wheel --wheel-dir=wheels intbitset"
  - cmd: "%PYTHON%\\python.exe -m pip wheel --wheel-dir=wheels bitarray"
  - cmd: "%PYTHON%\\python.exe -m pip wheel --wheel-dir=wheels lxml==3.6.0"
  - cmd: "%PYTHON%\\python.exe -m pip wheel --wheel-dir=wheels tinyarray"
  - cmd: "%PYTHON%\\python.exe -m pip wheel --wheel-dir=wheels pyahocorasick"
  - cmd: "%PYTHON%\\python.exe -m pip wheel --wheel-dir=wheels simplejson"
  - cmd: "%PYTHON%\\python.exe -m pip wheel --wheel-dir=wheels billiard"
  - cmd: "%PYTHON%\\python.exe -m pip wheel --wheel-dir=wheels psutil"
  - dir
  - dir wheels

artifacts:
  - path: wheels\*

deploy:
  - provider: BinTray
    username: pombreda
    version: "1"
    api_key:
      secure: vfOXPuSdGaUBQWCWhtXGWOKFoWulmg8dl3J8EP7RodmMN96VH8yeMQIHdU3f4+l/
    subject: pombreda
    repo: thirdparty
    package: thirdparty
    publish: true
    override: true
